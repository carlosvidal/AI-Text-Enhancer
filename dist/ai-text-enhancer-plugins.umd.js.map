{"version":3,"file":"ai-text-enhancer-plugins.umd.js","sources":["../src/plugins/ckeditor-plugin.js","../src/plugins/froala-plugin.js","../src/plugins/quill-plugin.js","../src/plugins/tinymce-plugin.js"],"sourcesContent":["/**\n * Plugin para CKEditor 5 que añade un botón para mejorar el texto con IA\n * @param {Object} options - Opciones de configuración\n * @param {string} options.enhancerId - ID del componente ai-text-enhancer\n * @param {string} options.buttonTooltip - Texto del tooltip del botón\n * @returns {Object} - Plugin de CKEditor\n */\nexport function CKEditorPlugin(options = {}) {\n  const { enhancerId, buttonTooltip = \"Mejorar con IA\" } = options;\n\n  const plugin = {\n    pluginName: \"AIEnhancer\",\n\n    init: function (editor) {\n      // Registrar el botón\n      editor.ui.componentFactory.add(\"aienhancer\", (locale) => {\n        const button = new editor.ui.ButtonView(locale);\n\n        button.set({\n          label: buttonTooltip,\n          icon: '<svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72\"/><path d=\"m14 7 3 3\"/></svg>',\n          tooltip: true,\n        });\n\n        // Al hacer clic, abrir el modal\n        button.on(\"execute\", () => {\n          const enhancer = document.getElementById(enhancerId);\n          if (enhancer && typeof enhancer.openModal === \"function\") {\n            enhancer.openModal();\n          } else {\n            console.error(\n              `AI Text Enhancer with ID \"${enhancerId}\" not found or not initialized`\n            );\n          }\n        });\n\n        return button;\n      });\n    },\n  };\n\n  return plugin;\n}\n","/**\n * Plugin para Froala Editor que añade un botón para mejorar el texto con IA\n * @param {Object} options - Opciones de configuración\n * @param {string} options.enhancerId - ID del componente ai-text-enhancer\n * @param {string} options.buttonTooltip - Texto del tooltip del botón\n * @returns {Object} - Plugin de Froala\n */\nexport function FroalaPlugin(options = {}) {\n  const { enhancerId, buttonTooltip = \"Mejorar con IA\" } = options;\n\n  // Devolveremos un objeto con la definición del plugin para Froala\n  return {\n    // Nombre del plugin\n    name: \"aiEnhancer\",\n\n    // Icono SVG para el botón\n    icon: {\n      SVG: '<svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72\"/><path d=\"m14 7 3 3\"/></svg>',\n      template: \"text\",\n    },\n\n    // Código para inicializar el plugin\n    init: function (editor) {\n      // Añadir el botón a la barra de herramientas\n      editor.toolbar.addButton(\"aiEnhancer\", {\n        title: buttonTooltip,\n        icon: this.icon,\n        callback: function () {\n          const enhancer = document.getElementById(enhancerId);\n          if (enhancer && typeof enhancer.openModal === \"function\") {\n            enhancer.openModal();\n          } else {\n            console.error(\n              `AI Text Enhancer with ID \"${enhancerId}\" not found or not initialized`\n            );\n          }\n        },\n      });\n    },\n  };\n}\n","/**\n * Plugin para Quill que añade un botón para mejorar el texto con IA\n * @param {Object} options - Opciones de configuración\n * @param {string} options.enhancerId - ID del componente ai-text-enhancer\n * @param {string} options.buttonTooltip - Texto del tooltip del botón\n * @param {string} options.iconHTML - HTML del icono del botón\n * @returns {Function} - Función para registrar el plugin\n */\nexport function QuillPlugin(options = {}) {\n  const {\n    enhancerId,\n    buttonTooltip = \"Mejorar con IA\",\n    iconHTML = `<svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72\"/>\n        <path d=\"m14 7 3 3\"/>\n      </svg>`,\n  } = options;\n\n  return function (quill) {\n    // Crear el botón\n    const button = document.createElement(\"button\");\n    button.className = \"ql-ai-enhancer\";\n    button.innerHTML = iconHTML;\n    button.title = buttonTooltip;\n\n    // Estilizar el botón\n    button.style.cssText = `\n        display: inline-block;\n        height: 24px;\n        width: 28px;\n        background: transparent;\n        border: none;\n        cursor: pointer;\n        padding: 3px;\n        position: relative;\n      `;\n\n    // Escuchar clics\n    button.addEventListener(\"click\", () => {\n      const enhancer = document.getElementById(enhancerId);\n      if (enhancer && typeof enhancer.openModal === \"function\") {\n        enhancer.openModal();\n      } else {\n        console.error(\n          `AI Text Enhancer with ID \"${enhancerId}\" not found or not initialized`\n        );\n      }\n    });\n\n    // Obtener la barra de herramientas y añadir el botón\n    const toolbar = quill.container.querySelector(\".ql-toolbar\");\n    if (toolbar) {\n      toolbar.appendChild(button);\n    } else {\n      console.error(\"Quill toolbar not found\");\n    }\n\n    // Devolver funciones del plugin (opcional)\n    return {\n      destroy: function () {\n        button.removeEventListener(\"click\");\n        if (button.parentNode) {\n          button.parentNode.removeChild(button);\n        }\n      },\n    };\n  };\n}\n","/**\n * Plugin para TinyMCE que añade un botón para mejorar el texto con IA\n * @param {Object} options - Opciones de configuración\n * @param {string} options.enhancerId - ID del componente ai-text-enhancer\n * @param {string} options.buttonTooltip - Texto del tooltip del botón\n * @param {string} options.buttonIcon - Icono SVG para el botón\n * @returns {Object} - Plugin de TinyMCE\n */\nexport function TinyMCEPlugin(options = {}) {\n  const {\n    enhancerId,\n    buttonTooltip = \"Mejorar con IA\",\n    buttonIcon = '<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72\"/><path d=\"m14 7 3 3\"/></svg>',\n  } = options;\n\n  return function (editor) {\n    // Registrar el botón en TinyMCE\n    editor.ui.registry.addButton(\"aienhancer\", {\n      icon: \"magic\", // Icono predefinido o usar tu SVG personalizado\n      tooltip: buttonTooltip,\n      onAction: function () {\n        // Buscar el componente enhancer y llamar a su método openModal\n        const enhancer = document.getElementById(enhancerId);\n        if (enhancer && typeof enhancer.openModal === \"function\") {\n          enhancer.openModal();\n        } else {\n          console.error(\n            `AI Text Enhancer with ID \"${enhancerId}\" not found or not initialized`\n          );\n        }\n      },\n    });\n\n    // Registrar el plugin (opcional)\n    return {\n      getMetadata: function () {\n        return {\n          name: \"AI Text Enhancer\",\n          url: \"https://github.com/yourusername/ai-text-enhancer\",\n        };\n      },\n    };\n  };\n}\n"],"names":["options","enhancerId","buttonTooltip","pluginName","init","editor","ui","componentFactory","add","locale","button","ButtonView","set","label","icon","tooltip","on","enhancer","document","getElementById","openModal","console","error","name","SVG","template","toolbar","addButton","title","this","callback","iconHTML","quill","createElement","className","innerHTML","style","cssText","addEventListener","container","querySelector","appendChild","destroy","removeEventListener","parentNode","removeChild","buttonIcon","registry","onAction","getMetadata","url"],"mappings":"8QAOgB,SAAeA,EAAU,IACvC,MAAMC,WAAEA,EAAAC,cAAYA,EAAgB,kBAAqBF,EAiClD,MA/BQ,CACbG,WAAY,aAEZC,KAAM,SAAUC,GAEdA,EAAOC,GAAGC,iBAAiBC,IAAI,cAAeC,IAC5C,MAAMC,EAAS,IAAIL,EAAOC,GAAGK,WAAWF,GAoBjC,OAlBPC,EAAOE,IAAI,CACTC,MAAOX,EACPY,KAAM,mPACNC,SAAS,IAIJL,EAAAM,GAAG,WAAW,KACb,MAAAC,EAAWC,SAASC,eAAelB,GACrCgB,GAA0C,mBAAvBA,EAASG,UAC9BH,EAASG,YAEDC,QAAAC,MACN,6BAA6BrB,kCAE3C,IAGeS,CAAA,GAEV,EAIL,iBCnCgB,SAAaV,EAAU,IACrC,MAAMC,WAAEA,EAAAC,cAAYA,EAAgB,kBAAqBF,EAGlD,MAAA,CAELuB,KAAM,aAGNT,KAAM,CACJU,IAAK,mPACLC,SAAU,QAIZrB,KAAM,SAAUC,GAEPA,EAAAqB,QAAQC,UAAU,aAAc,CACrCC,MAAO1B,EACPY,KAAMe,KAAKf,KACXgB,SAAU,WACF,MAAAb,EAAWC,SAASC,eAAelB,GACrCgB,GAA0C,mBAAvBA,EAASG,UAC9BH,EAASG,YAEDC,QAAAC,MACN,6BAA6BrB,kCAGlC,GAEJ,EAEL,gBChCgB,SAAYD,EAAU,IAC9B,MAAAC,WACJA,EAAAC,cACAA,EAAgB,iBAAA6B,SAChBA,EAAW,uSAIT/B,EAEJ,OAAO,SAAUgC,GAET,MAAAtB,EAASQ,SAASe,cAAc,UACtCvB,EAAOwB,UAAY,iBACnBxB,EAAOyB,UAAYJ,EACnBrB,EAAOkB,MAAQ1B,EAGfQ,EAAO0B,MAAMC,QAAU,+NAYhB3B,EAAA4B,iBAAiB,SAAS,KACzB,MAAArB,EAAWC,SAASC,eAAelB,GACrCgB,GAA0C,mBAAvBA,EAASG,UAC9BH,EAASG,YAEDC,QAAAC,MACN,6BAA6BrB,kCAEvC,IAII,MAAMyB,EAAUM,EAAMO,UAAUC,cAAc,eAQvC,OAPHd,EACFA,EAAQe,YAAY/B,GAEpBW,QAAQC,MAAM,2BAIT,CACLoB,QAAS,WACPhC,EAAOiC,oBAAoB,SACvBjC,EAAOkC,YACFlC,EAAAkC,WAAWC,YAAYnC,EAEjC,EAEJ,CACH,kBC3DgB,SAAcV,EAAU,IAChC,MAAAC,WACJA,EAAAC,cACAA,EAAgB,iBAAA4C,WAChBA,EAAa,2RACX9C,EAEJ,OAAO,SAAUK,GAmBR,OAjBAA,EAAAC,GAAGyC,SAASpB,UAAU,aAAc,CACzCb,KAAM,QACNC,QAASb,EACT8C,SAAU,WAEF,MAAA/B,EAAWC,SAASC,eAAelB,GACrCgB,GAA0C,mBAAvBA,EAASG,UAC9BH,EAASG,YAEDC,QAAAC,MACN,6BAA6BrB,kCAGlC,IAII,CACLgD,YAAa,WACJ,MAAA,CACL1B,KAAM,mBACN2B,IAAK,mDAER,EAEJ,CACH"}