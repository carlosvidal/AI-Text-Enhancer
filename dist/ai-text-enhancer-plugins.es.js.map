{"version":3,"file":"ai-text-enhancer-plugins.es.js","sources":["../src/plugins/tinymce-plugin.js","../src/plugins/ckeditor-plugin.js","../src/plugins/quill-plugin.js","../src/plugins/froala-plugin.js"],"sourcesContent":["/**\n * Plugin para TinyMCE que añade un botón para mejorar el texto con IA\n * @param {Object} options - Opciones de configuración\n * @param {string} options.enhancerId - ID del componente ai-text-enhancer\n * @param {string} options.buttonTooltip - Texto del tooltip del botón\n * @param {string} options.buttonIcon - Icono SVG para el botón\n * @returns {Object} - Plugin de TinyMCE\n */\nexport function TinyMCEPlugin(options = {}) {\n  const {\n    enhancerId,\n    buttonTooltip = \"Mejorar con IA\",\n    buttonIcon = '<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72\"/><path d=\"m14 7 3 3\"/></svg>',\n  } = options;\n\n  return function (editor) {\n    // Registrar el botón en TinyMCE\n    editor.ui.registry.addButton(\"aienhancer\", {\n      icon: \"magic\", // Icono predefinido o usar tu SVG personalizado\n      tooltip: buttonTooltip,\n      onAction: function () {\n        // Buscar el componente enhancer y llamar a su método openModal\n        const enhancer = document.getElementById(enhancerId);\n        if (enhancer && typeof enhancer.openModal === \"function\") {\n          enhancer.openModal();\n        } else {\n          console.error(\n            `AI Text Enhancer with ID \"${enhancerId}\" not found or not initialized`\n          );\n        }\n      },\n    });\n\n    // Registrar el plugin (opcional)\n    return {\n      getMetadata: function () {\n        return {\n          name: \"AI Text Enhancer\",\n          url: \"https://github.com/yourusername/ai-text-enhancer\",\n        };\n      },\n    };\n  };\n}\n","/**\n * Plugin para CKEditor 5 que añade un botón para mejorar el texto con IA\n * @param {Object} options - Opciones de configuración\n * @param {string} options.enhancerId - ID del componente ai-text-enhancer\n * @param {string} options.buttonTooltip - Texto del tooltip del botón\n * @returns {Object} - Plugin de CKEditor\n */\nexport function CKEditorPlugin(options = {}) {\n  const { enhancerId, buttonTooltip = \"Mejorar con IA\" } = options;\n\n  const plugin = {\n    pluginName: \"AIEnhancer\",\n\n    init: function (editor) {\n      // Registrar el botón\n      editor.ui.componentFactory.add(\"aienhancer\", (locale) => {\n        const button = new editor.ui.ButtonView(locale);\n\n        button.set({\n          label: buttonTooltip,\n          icon: '<svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72\"/><path d=\"m14 7 3 3\"/></svg>',\n          tooltip: true,\n        });\n\n        // Al hacer clic, abrir el modal\n        button.on(\"execute\", () => {\n          const enhancer = document.getElementById(enhancerId);\n          if (enhancer && typeof enhancer.openModal === \"function\") {\n            enhancer.openModal();\n          } else {\n            console.error(\n              `AI Text Enhancer with ID \"${enhancerId}\" not found or not initialized`\n            );\n          }\n        });\n\n        return button;\n      });\n    },\n  };\n\n  return plugin;\n}\n","/**\n * Plugin para Quill que añade un botón para mejorar el texto con IA\n * @param {Object} options - Opciones de configuración\n * @param {string} options.enhancerId - ID del componente ai-text-enhancer\n * @param {string} options.buttonTooltip - Texto del tooltip del botón\n * @param {string} options.iconHTML - HTML del icono del botón\n * @returns {Function} - Función para registrar el plugin\n */\nexport function QuillPlugin(options = {}) {\n  const {\n    enhancerId,\n    buttonTooltip = \"Mejorar con IA\",\n    iconHTML = `<svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72\"/>\n        <path d=\"m14 7 3 3\"/>\n      </svg>`,\n  } = options;\n\n  return function (quill) {\n    // Crear el botón\n    const button = document.createElement(\"button\");\n    button.className = \"ql-ai-enhancer\";\n    button.innerHTML = iconHTML;\n    button.title = buttonTooltip;\n\n    // Estilizar el botón\n    button.style.cssText = `\n        display: inline-block;\n        height: 24px;\n        width: 28px;\n        background: transparent;\n        border: none;\n        cursor: pointer;\n        padding: 3px;\n        position: relative;\n      `;\n\n    // Escuchar clics\n    button.addEventListener(\"click\", () => {\n      const enhancer = document.getElementById(enhancerId);\n      if (enhancer && typeof enhancer.openModal === \"function\") {\n        enhancer.openModal();\n      } else {\n        console.error(\n          `AI Text Enhancer with ID \"${enhancerId}\" not found or not initialized`\n        );\n      }\n    });\n\n    // Obtener la barra de herramientas y añadir el botón\n    const toolbar = quill.container.querySelector(\".ql-toolbar\");\n    if (toolbar) {\n      toolbar.appendChild(button);\n    } else {\n      console.error(\"Quill toolbar not found\");\n    }\n\n    // Devolver funciones del plugin (opcional)\n    return {\n      destroy: function () {\n        button.removeEventListener(\"click\");\n        if (button.parentNode) {\n          button.parentNode.removeChild(button);\n        }\n      },\n    };\n  };\n}\n","/**\n * Plugin para Froala Editor que añade un botón para mejorar el texto con IA\n * @param {Object} options - Opciones de configuración\n * @param {string} options.enhancerId - ID del componente ai-text-enhancer\n * @param {string} options.buttonTooltip - Texto del tooltip del botón\n * @returns {Object} - Plugin de Froala\n */\nexport function FroalaPlugin(options = {}) {\n  const { enhancerId, buttonTooltip = \"Mejorar con IA\" } = options;\n\n  // Devolveremos un objeto con la definición del plugin para Froala\n  return {\n    // Nombre del plugin\n    name: \"aiEnhancer\",\n\n    // Icono SVG para el botón\n    icon: {\n      SVG: '<svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72\"/><path d=\"m14 7 3 3\"/></svg>',\n      template: \"text\",\n    },\n\n    // Código para inicializar el plugin\n    init: function (editor) {\n      // Añadir el botón a la barra de herramientas\n      editor.toolbar.addButton(\"aiEnhancer\", {\n        title: buttonTooltip,\n        icon: this.icon,\n        callback: function () {\n          const enhancer = document.getElementById(enhancerId);\n          if (enhancer && typeof enhancer.openModal === \"function\") {\n            enhancer.openModal();\n          } else {\n            console.error(\n              `AI Text Enhancer with ID \"${enhancerId}\" not found or not initialized`\n            );\n          }\n        },\n      });\n    },\n  };\n}\n"],"names":[],"mappings":"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"}